<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        //!!超时调用来模拟间歇调用的是一种最佳模式
        
        //可见，在使用超时调用时，没有必要跟踪超时调用 ID，因为每次执行代码之后，如果不再设置另
        // 一次超时调用，调用就会自行停止。一般认为，使用超时调用来模拟间歇调用的是一种最佳模式。在开
        // 发环境下，很少使用真正的间歇调用，原因是后一个间歇调用可能会在前一个间歇调用结束之前启动。
        // 而像前面示例中那样使用超时调用，则完全可以避免这一点。所以，最好不要使用间歇调用。
        var num = 0;
        var max = 10;
        function incrementNumber(){
            num++;
            // 如果执行的次数未到达最大次数，就设置另一次超时调用
            if(num<max){
                setTimeout(incrementNumber,500);
            }else{
                alert('done');
            }
        }
        setTimeout(incrementNumber,500);
    </script>
</body>
</html>